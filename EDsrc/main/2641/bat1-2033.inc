; === Auto-Generated Include File (using _ArrayAdd) ===
Global $aBat1_Lines
$aBat1_Lines = '' 
_ArrayAdd($aBat1_Lines, '@@ECHO OFF')
_ArrayAdd($aBat1_Lines, 'set "prj=tst3"')
_ArrayAdd($aBat1_Lines, ':: set prj MUST in LINE 2 :: ws edit src prj-name-dir ::')
_ArrayAdd($aBat1_Lines, 'REM *** IMPORTANT: The first 3 lines (including "set prj=...") used by  external software it interacts with.')
_ArrayAdd($aBat1_Lines, 'rem !!!DO NOT CHANGE!!! ***')
_ArrayAdd($aBat1_Lines, 'rem 1 barePUSH')
_ArrayAdd($aBat1_Lines, 'set "cmdnam=barePUSH"')
_ArrayAdd($aBat1_Lines, 'set "cmdnum=1"')
_ArrayAdd($aBat1_Lines, 'SETLOCAL')
_ArrayAdd($aBat1_Lines, 'REM *** only push . must exist: REPO, BARE-REPO und REMOTE  ***')
_ArrayAdd($aBat1_Lines, 'rem --- Globale Konfiguration (ReadOnly) ---')
_ArrayAdd($aBat1_Lines, 'set "REPO_DIR=D:\ws\gitGit\source\workspaces\%prj%"')
_ArrayAdd($aBat1_Lines, 'set "BARE_DIR=D:\ws\gitGit\source\local-bare-repos\%prj%.git"')
_ArrayAdd($aBat1_Lines, 'set "BRANCH=main"')
_ArrayAdd($aBat1_Lines, 'set "REMOTE=origin"')
_ArrayAdd($aBat1_Lines, 'set "FOLDERS=EDsrc"')
_ArrayAdd($aBat1_Lines, 'set "KEY_PATH=%USERPROFILE%\.ssh\id_ed25519"')
_ArrayAdd($aBat1_Lines, '')
_ArrayAdd($aBat1_Lines, 'REM Die vollstaendige URL wird nur zur Anzeige benoetigt, falls die Remote-Logik wieder aktiv wird.')
_ArrayAdd($aBat1_Lines, 'set "GITHUB_USER_URL=https://github.com/e6000000"')
_ArrayAdd($aBat1_Lines, 'set "FULL_REMOTE_URL=%GITHUB_USER_URL%/%prj%"')
_ArrayAdd($aBat1_Lines, '')
_ArrayAdd($aBat1_Lines, '')
_ArrayAdd($aBat1_Lines, 'rem *** ENTFERNT: mkdir %REPO_DIR% und %BARE_DIR% ***')
_ArrayAdd($aBat1_Lines, '')
_ArrayAdd($aBat1_Lines, '')
_ArrayAdd($aBat1_Lines, 'REM Check if a custom commit message was passed')
_ArrayAdd($aBat1_Lines, 'if "%COMMIT_MSG%"=="" (')
_ArrayAdd($aBat1_Lines, '    set "COMMIT_MSG=Auto-Commit %DATE% %TIME% see comments in file OLDCODE: NEWCODE: "')
_ArrayAdd($aBat1_Lines, ')')
_ArrayAdd($aBat1_Lines, '')
_ArrayAdd($aBat1_Lines, 'rem -------------------------------------------------------')
_ArrayAdd($aBat1_Lines, 'rem 1) TAG GENERATION WITH PSEUDO-VERSIONING (Code Block)')
_ArrayAdd($aBat1_Lines, 'rem -------------------------------------------------------')
_ArrayAdd($aBat1_Lines, 'set "YY=%DATE:~2,2%"')
_ArrayAdd($aBat1_Lines, 'set "MON=%DATE:~5,2%"')
_ArrayAdd($aBat1_Lines, 'set "DAY=%DATE:~8,2%"')
_ArrayAdd($aBat1_Lines, 'set "H=%TIME:~0,2%"')
_ArrayAdd($aBat1_Lines, 'if "%H:~0,1%"==" " set "H=0%H:~1,1%"')
_ArrayAdd($aBat1_Lines, 'set "MIN=%TIME:~3,2%"')
_ArrayAdd($aBat1_Lines, 'set "SEC=%TIME:~6,2%"')
_ArrayAdd($aBat1_Lines, 'set /a BASEYY=24')
_ArrayAdd($aBat1_Lines, 'set /a yearssince = YY - BASEYY')
_ArrayAdd($aBat1_Lines, 'if %yearssince% Lss 0 set /a yearssince=0')
_ArrayAdd($aBat1_Lines, 'set /a SEC_DAY=24*3600')
_ArrayAdd($aBat1_Lines, 'set /a SEC_MONTH=30*SEC_DAY')
_ArrayAdd($aBat1_Lines, 'set /a SEC_YEAR=360*SEC_DAY')
_ArrayAdd($aBat1_Lines, 'set /a mon = 1%MON% - 1')
_ArrayAdd($aBat1_Lines, 'set /a day = 1%DAY% - 1')
_ArrayAdd($aBat1_Lines, 'set /a hour = 1%H% - 1')
_ArrayAdd($aBat1_Lines, 'set /a minute = 1%MIN% - 1')
_ArrayAdd($aBat1_Lines, 'set /a second = 1%SEC% - 1')
_ArrayAdd($aBat1_Lines, 'set /a total = yearssince*SEC_YEAR + mon*SEC_MONTH + day*SEC_DAY + hour*3600 + minute*60 + second')
_ArrayAdd($aBat1_Lines, 'set /a step = (total / 50) %% 1000000000')
_ArrayAdd($aBat1_Lines, 'set /a step = step   -6521726')
_ArrayAdd($aBat1_Lines, 'rem add /50 because it is ok no need tooo big numbers qq66yy')
_ArrayAdd($aBat1_Lines, 'set /a step = step + 1000000')
_ArrayAdd($aBat1_Lines, 'echo ver NR.    %step%')
_ArrayAdd($aBat1_Lines, 'set "num=000000000%step%"')
_ArrayAdd($aBat1_Lines, 'set "num=%num:~-9%"')
_ArrayAdd($aBat1_Lines, 'rem "version=datim_ 890')
_ArrayAdd($aBat1_Lines, 'set "version=barepustim_%num:~0,3%.%num:~3,3%.%num:~6,3%"')
_ArrayAdd($aBat1_Lines, 'echo version: %version%')
_ArrayAdd($aBat1_Lines, 'set "TAG_NAME=%version%"')
_ArrayAdd($aBat1_Lines, 'echo Generated Tag Name: %TAG_NAME%')
_ArrayAdd($aBat1_Lines, 'set "TAG_MSG_USER=[2033]"')
_ArrayAdd($aBat1_Lines, 'echo.')
_ArrayAdd($aBat1_Lines, 'set /p TAG_MSG_USER="Enter a Tag Message (Default: Release %TAG_NAME%): "')
_ArrayAdd($aBat1_Lines, 'if "%TAG_MSG_USER%"=="" (')
_ArrayAdd($aBat1_Lines, '    set "TAG_MSG_USER=Release %TAG_NAME%"')
_ArrayAdd($aBat1_Lines, ')')
_ArrayAdd($aBat1_Lines, 'echo _ _')
_ArrayAdd($aBat1_Lines, 'echo  _ prj: %prj%    _ branch: %branch%')
_ArrayAdd($aBat1_Lines, 'echo  _ TAG_MSG_USER: %TAG_MSG_USER%   _ TAG_NAME: %TAG_NAME%')
_ArrayAdd($aBat1_Lines, 'echo _ _')
_ArrayAdd($aBat1_Lines, 'rem -------------------------------------------------------')
_ArrayAdd($aBat1_Lines, '')
_ArrayAdd($aBat1_Lines, 'rem Change to Repo directory (Muss existieren!)')
_ArrayAdd($aBat1_Lines, 'cd /d "%REPO_DIR%"')
_ArrayAdd($aBat1_Lines, '')
_ArrayAdd($aBat1_Lines, 'rem (Optional) Set Git ssH-Command')
_ArrayAdd($aBat1_Lines, 'set "GIT_ssH_COMMAND=ssh -i "%KEY_PATH%" -o IdentitiesOnly=yes"')
_ArrayAdd($aBat1_Lines, '')
_ArrayAdd($aBat1_Lines, 'rem *** ENTFERNT: BARE REPO INITIALISIERUNG ***')
_ArrayAdd($aBat1_Lines, 'rem *** ENTFERNT: REPO INITIALISIERUNG (git init) ***')
_ArrayAdd($aBat1_Lines, 'rem *** ENTFERNT: BRANCH UMBENENNUNGS-LOGIK (da ''main'' nun Standard ist) ***')
_ArrayAdd($aBat1_Lines, 'rem *** ENTFERNT: REMOTE ADD/SET URL LOGIK (da ''origin'' nun existiert) ***')
_ArrayAdd($aBat1_Lines, '')
_ArrayAdd($aBat1_Lines, '')
_ArrayAdd($aBat1_Lines, 'rem Add specified folders')
_ArrayAdd($aBat1_Lines, 'for %%F in (%FOLDERS%) do (')
_ArrayAdd($aBat1_Lines, '    echo git add "%%F"')
_ArrayAdd($aBat1_Lines, '    git add "%%F"')
_ArrayAdd($aBat1_Lines, ')')
_ArrayAdd($aBat1_Lines, '')
_ArrayAdd($aBat1_Lines, 'rem *** ENTFERNT: AUFRUF DER AutoIt EXE (nur fuer Erst-Erstellung) ***')
_ArrayAdd($aBat1_Lines, '')
_ArrayAdd($aBat1_Lines, '')
_ArrayAdd($aBat1_Lines, 'rem Check if anything is staged, and CREATE COMMIT / TAG (Part 1)')
_ArrayAdd($aBat1_Lines, 'git diff --cached --quiet')
_ArrayAdd($aBat1_Lines, 'if errorlevel 1 (')
_ArrayAdd($aBat1_Lines, '    echo Changes are staged, creating Commit...')
_ArrayAdd($aBat1_Lines, '    git commit -m "%COMMIT_MSG%"')
_ArrayAdd($aBat1_Lines, '    if errorlevel 1 (')
_ArrayAdd($aBat1_Lines, '        echo Commit failed.')
_ArrayAdd($aBat1_Lines, '        timeout /t 222')
_ArrayAdd($aBat1_Lines, '        exit /b 1')
_ArrayAdd($aBat1_Lines, '    )')
_ArrayAdd($aBat1_Lines, '    echo Commit successful.')
_ArrayAdd($aBat1_Lines, '    echo.')
_ArrayAdd($aBat1_Lines, '')
_ArrayAdd($aBat1_Lines, '    rem Create tag with custom message')
_ArrayAdd($aBat1_Lines, '    echo  * creating Tag %TAG_NAME% with message "%TAG_MSG_USER%"...')
_ArrayAdd($aBat1_Lines, '    git tag -a "%TAG_NAME%" -m "%TAG_MSG_USER%"')
_ArrayAdd($aBat1_Lines, '    if errorlevel 1 (')
_ArrayAdd($aBat1_Lines, '        echo Tag creation failed.')
_ArrayAdd($aBat1_Lines, '        timeout /t 222')
_ArrayAdd($aBat1_Lines, '        exit /b 1')
_ArrayAdd($aBat1_Lines, '    )')
_ArrayAdd($aBat1_Lines, '    echo Tag %TAG_NAME% successfully created.')
_ArrayAdd($aBat1_Lines, '    echo.')
_ArrayAdd($aBat1_Lines, '')
_ArrayAdd($aBat1_Lines, '    rem #######################################################')
_ArrayAdd($aBat1_Lines, '    rem START: BARE-REPO PUSH (Part 1: Push to local Bare Repo)')
_ArrayAdd($aBat1_Lines, '    rem #######################################################')
_ArrayAdd($aBat1_Lines, '    echo WARNING: Now pushing to local Bare Repo %BARE_DIR%.')
_ArrayAdd($aBat1_Lines, '    if /I "y"=="y" (')
_ArrayAdd($aBat1_Lines, '        echo Pushing Branch %BRANCH% to %BARE_DIR% ...')
_ArrayAdd($aBat1_Lines, '        git push "%BARE_DIR%" %BRANCH%')
_ArrayAdd($aBat1_Lines, '        if errorlevel 1 (')
_ArrayAdd($aBat1_Lines, '            echo Push of Branch to BARE_DIR failed.')
_ArrayAdd($aBat1_Lines, '            timeout /t 222')
_ArrayAdd($aBat1_Lines, '            exit /b 1')
_ArrayAdd($aBat1_Lines, '        )')
_ArrayAdd($aBat1_Lines, '')
_ArrayAdd($aBat1_Lines, '        rem Push Tags')
_ArrayAdd($aBat1_Lines, '        echo Pushing Tag %TAG_NAME% to %BARE_DIR%...')
_ArrayAdd($aBat1_Lines, '        git push "%BARE_DIR%" "%TAG_NAME%"')
_ArrayAdd($aBat1_Lines, '        if errorlevel 1 (')
_ArrayAdd($aBat1_Lines, '            echo Push of Tag to BARE_DIR failed.')
_ArrayAdd($aBat1_Lines, '            timeout /t 222')
_ArrayAdd($aBat1_Lines, '            exit /b 1')
_ArrayAdd($aBat1_Lines, '        )')
_ArrayAdd($aBat1_Lines, '')
_ArrayAdd($aBat1_Lines, '        echo  ..')
_ArrayAdd($aBat1_Lines, '        echo ########################################')
_ArrayAdd($aBat1_Lines, '        echo Push and Tag Push to BARE_DIR %prj% successful.')
_ArrayAdd($aBat1_Lines, '        echo  ..')
_ArrayAdd($aBat1_Lines, '')
_ArrayAdd($aBat1_Lines, '    ) else (')
_ArrayAdd($aBat1_Lines, '        echo BARE Push aborted.')
_ArrayAdd($aBat1_Lines, '    )')
_ArrayAdd($aBat1_Lines, '')
_ArrayAdd($aBat1_Lines, '    rem #######################################################')
_ArrayAdd($aBat1_Lines, '    rem START: REMOTE PUSH (Part 2: Push to external Remote %REMOTE%)')
_ArrayAdd($aBat1_Lines, '    rem *** AUSKOMMENTIERT: HIER ENDET DER BARE-REPO-TEIL ***')
_ArrayAdd($aBat1_Lines, '    rem #######################################################')
_ArrayAdd($aBat1_Lines, '')
_ArrayAdd($aBat1_Lines, '    rem echo.')
_ArrayAdd($aBat1_Lines, '    rem WARNING: In the next step, a force-push to REMOTE %REMOTE% will be executed.')
_ArrayAdd($aBat1_Lines, '    rem if /I "y"=="y" (')
_ArrayAdd($aBat1_Lines, '    rem     echo Pushing Branch %BRANCH% to %REMOTE% --force ...')
_ArrayAdd($aBat1_Lines, '    rem     git push %REMOTE% %BRANCH% --force')
_ArrayAdd($aBat1_Lines, '    rem     if errorlevel 1 (')
_ArrayAdd($aBat1_Lines, '    rem         echo Push of Branch to %REMOTE% failed.')
_ArrayAdd($aBat1_Lines, '    rem         timeout /t 222')
_ArrayAdd($aBat1_Lines, '    rem         exit /b 1')
_ArrayAdd($aBat1_Lines, '    rem     )')
_ArrayAdd($aBat1_Lines, '')
_ArrayAdd($aBat1_Lines, '    rem     rem Push Tags')
_ArrayAdd($aBat1_Lines, '    rem     echo Pushing Tag %TAG_NAME% to %REMOTE%...')
_ArrayAdd($aBat1_Lines, '    rem     git push %REMOTE% "%TAG_NAME%"')
_ArrayAdd($aBat1_Lines, '    rem     if errorlevel 1 (')
_ArrayAdd($aBat1_Lines, '    rem         echo Push of Tag to %REMOTE% failed.')
_ArrayAdd($aBat1_Lines, '    rem         timeout /t 222')
_ArrayAdd($aBat1_Lines, '    rem         exit /b 1')
_ArrayAdd($aBat1_Lines, '    rem     )')
_ArrayAdd($aBat1_Lines, '')
_ArrayAdd($aBat1_Lines, '    rem     echo  ..')
_ArrayAdd($aBat1_Lines, '    rem     echo ########################################')
_ArrayAdd($aBat1_Lines, '    rem     echo Force-push and Tag Push %prj% to github REMOTE %REMOTE% successful.')
_ArrayAdd($aBat1_Lines, '    rem     echo  ..')
_ArrayAdd($aBat1_Lines, '')
_ArrayAdd($aBat1_Lines, '')
_ArrayAdd($aBat1_Lines, '    rem ) else (')
_ArrayAdd($aBat1_Lines, '    rem     echo REMOTE Push aborted. No push executed.')
_ArrayAdd($aBat1_Lines, '    rem )')
_ArrayAdd($aBat1_Lines, '')
_ArrayAdd($aBat1_Lines, ') else (')
_ArrayAdd($aBat1_Lines, '    echo No changes to commit.')
_ArrayAdd($aBat1_Lines, ')')
_ArrayAdd($aBat1_Lines, '')
_ArrayAdd($aBat1_Lines, ':ENDE')
_ArrayAdd($aBat1_Lines, 'timeout /t 222')
_ArrayAdd($aBat1_Lines, 'ENDLOCAL')
_ArrayAdd($aBat1_Lines, 'exit /b 0')

; === End of Auto-Generated Include File (using _ArrayAdd) ===
